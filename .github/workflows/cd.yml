---
    name: Continuous-Deployment
    permissions:
      contents: write
      id-token: write
      packages: write
      actions: write
      checks: write
    concurrency:
      group: production
      cancel-in-progress: true
    on:
      push:
        branches: [main]
    
    jobs:
      deployment:
        runs-on: ubuntu-latest
        steps:
          - name: Check out the code
            uses: actions/checkout@v4
          
          - name: Set up Python
            uses: actions/setup-python@v4
            with:
              python-version: '3.11'
    
          - name: Install dependencies
            run: python -m pip install -r ./requirements/production.txt
    
          - name: Upgrade build tools
            run: python -m pip install --upgrade build
    
          - name: Build the package
            run: python -m build
    
          - name: Upload to PyPI
            env:
              TWINE_PASSWORD: ${{ secrets.PYPI_KEY }}
            run: python -m twine upload dist/*
    
          - name: Done
            run: echo "ðŸŽ‰ Deployment complete!"
